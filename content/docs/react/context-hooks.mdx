---
title: Context Hooks
description: Description test
---

Context allows a component to receive information from distant parents without prop driling.

### Example: basic

```tsx title="component/product-context.tsx"
const ThemeContext = createContext<string>("light")

export function useThemeContext() {
  const { theme, setTheme } = useContext(CurrentUserContext)
  if (!context) {
    throw new Error(
      "Product.* component must be rendered as child of Product component"
    )

    return context
  }
}

export default function App() {
  const [theme, setTheme] = useState("light")
  return (
    <ThemeContext.Provider value={{ theme, setTheme }}>
      <Navbar />
    </ThemeContext.Provider>
  )
}

function Navbar() {
  const { theme, setTheme } = useThemeContext()

  return (
    <div>
      <p>{theme}</p>
      <button
        onClick={() => {
          setTheme("dark")
        }}
      >
        Dark theme
      </button>
      <button
        onClick={() => {
          setTheme("light")
        }}
      >
        Light theme
      </button>
    </div>
  )
}
```

### Example: complext component

```tsx title="component/product-context.tsx"
const ProductContext = createContext<{ product: Product } | null>(null)

export function useProducContext() {
  const context = useContext(ProductContext)
  if (!context) {
    throw new Error(
      "Product.* component must be rendered as child of Product component"
    )

    return context
  }
}

export default ProductContext
```

```tsx title="component/product-card.tsx"

interface ProductCardProps = {
  product: Product;
  children: React.ReactNode;
}

export function ProductCard({ product, children }: ProductCardProps) {
  return (
    <ProductCardContext.Provider value={{product}}>
      {children}
    </ProductCardContext.Provider>
  )
}

function ProductCardTitle(){
  const {product} = useProductCardContext();
  return(
    <h1>{product.title}</h1>
  )
}
```

```tsx title="app/page.tsx"
export default function Home() {
  return (
    <ProductCard product={product}>
      <ProductCardWrapper>
        <ProductCardTitle />
        <ProductCardPrice />
      </ProductCardWrapper>
    </ProductCard>
  )
}
```

### Example: context with reducer

```tsx title="app/page.tsx"
export default function Task() {
  return (
    <TasksProvider>
      <h1>Day off in Kyoto</h1>
      <AddTask />
      <TaskList />
    </TasksProvider>
  )
}
```

```tsx title="component/task-context.tsx"
const TasksContext = createContext(null)

const TasksDispatchContext = createContext(null)

export function TasksProvider({ children }) {
  const [tasks, dispatch] = useReducer(tasksReducer, initialTasks)

  return (
    <TasksContext.Provider value={tasks}>
      <TasksDispatchContext.Provider value={dispatch}>
        {children}
      </TasksDispatchContext.Provider>
    </TasksContext.Provider>
  )
}

export function useTasks() {
  return useContext(TasksContext)
}

export function useTasksDispatch() {
  return useContext(TasksDispatchContext)
}

function tasksReducer(tasks, action) {
  switch (action.type) {
    case "added": {
      return [
        ...tasks,
        {
          id: action.id,
          text: action.text,
          done: false,
        },
      ]
    }
    case "changed": {
      return tasks.map((t) => {
        if (t.id === action.task.id) {
          return action.task
        } else {
          return t
        }
      })
    }
    case "deleted": {
      return tasks.filter((t) => t.id !== action.id)
    }
    default: {
      throw Error("Unknown action: " + action.type)
    }
  }
}

const initialTasks = [
  { id: 0, text: "Philosopherâ€™s Path", done: true },
  { id: 1, text: "Visit the temple", done: false },
  { id: 2, text: "Drink matcha", done: false },
]
```

```tsx title="component/add-task.tsx"
export function AddTask() {
  const [text, setText] = useState("")
  const dispatch = useTasksDispatch()
  return (
    <>
      <input
        placeholder="Add task"
        value={text}
        onChange={(e) => setText(e.target.value)}
      />
      <button
        onClick={() => {
          setText("")
          dispatch({
            type: "added",
            id: nextId++,
            text: text,
          })
        }}
      >
        Add
      </button>
    </>
  )
}
```

```tsx title="component/task-list.tsx"
export function TaskList() {
  const tasks = useTasks()
  return (
    <ul>
      {tasks.map((task) => (
        <li key={task.id}>
          <Task task={task} />
        </li>
      ))}
    </ul>
  )
}
```
